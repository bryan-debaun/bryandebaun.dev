@import "tailwindcss";
@plugin "@tailwindcss/typography";

/* Allow toggling dark mode via the `.dark` class on the <html> element */
@custom-variant dark (&:where(.dark, .dark *));

/* Norwegian / Fjord color palette (sea greens + blues) */
:root {
  /* Default background / foreground (light mode) */
  --background: var(--color-norwegian-100);
  --foreground: var(--color-norwegian-700);
  --color-white: #ffffff;

  /* Norwegian sea/teal palette */
  --color-norwegian-50: #f2fbfb;
  --color-norwegian-100: #e6f7f7;
  --color-norwegian-200: #bfeff0;
  --color-norwegian-300: #99e7e7;
  --color-norwegian-400: #40d7d0;
  --color-norwegian-500: #00b9b3;
  --color-norwegian-600: #00908a;
  --color-norwegian-700: #00706d;
  --color-norwegian-800: #00554f;
  --color-norwegian-900: #003d3a;

  /* Dark-mode variants for the Norwegian palette (accents/overlays on dark bg) */
  --color-norwegian-50-dark: #062a29;
  /* deep muted teal */
  --color-norwegian-100-dark: #083634;
  --color-norwegian-200-dark: #084c4a;
  --color-norwegian-300-dark: #0b6b68;
  --color-norwegian-400-dark: #108f8b;
  --color-norwegian-500-dark: #19b3ac;

  /* Semantic dark background/foreground */
  --color-bg-dark: #0a0a0a;
  --color-fg-dark: #ededed;

  /* Fjord deep blues */
  --color-fjord-500: #1e88e5;
  --color-fjord-600: #176fc4;
  --color-fjord-700: #0f538f;
  /* neon accent for dark mode (subtler) */
  --color-fjord-neon: #e6fbf4;
  --tw-prose-body: var(--color-norwegian-700);
  --tw-prose-headings: var(--color-norwegian-900);
  --tw-prose-lead: var(--color-norwegian-600);
  --tw-prose-links: var(--color-fjord-600);
  --tw-prose-bold: var(--color-norwegian-900);
  --tw-prose-counters: var(--color-norwegian-600);
  --tw-prose-bullets: var(--color-norwegian-400);
  --tw-prose-hr: var(--color-norwegian-300);
  --tw-prose-quotes: var(--color-norwegian-900);
  --tw-prose-quote-borders: var(--color-norwegian-300);
  --tw-prose-captions: var(--color-norwegian-700);
  --tw-prose-code: var(--color-fjord-600);
  --tw-prose-pre-code: var(--color-norwegian-100);
  --tw-prose-pre-bg: var(--color-norwegian-900);
  --tw-prose-th-borders: var(--color-norwegian-300);
  --tw-prose-td-borders: var(--color-norwegian-200);

  /* invert / dark mode */
  --tw-prose-invert-body: var(--color-norwegian-100);
  --tw-prose-invert-headings: var(--color-white);
  --tw-prose-invert-lead: var(--color-norwegian-300);
  --tw-prose-invert-links: var(--color-white);
  --tw-prose-invert-bold: var(--color-white);
  --tw-prose-invert-counters: var(--color-norwegian-400);
  --tw-prose-invert-bullets: var(--color-norwegian-600);
  --tw-prose-invert-hr: var(--color-norwegian-700);
  --tw-prose-invert-quotes: var(--color-norwegian-100);
  --tw-prose-invert-quote-borders: var(--color-norwegian-700);
  --tw-prose-invert-captions: var(--color-norwegian-400);
  --tw-prose-invert-code: var(--color-white);
  --tw-prose-invert-pre-code: var(--color-norwegian-300);
  --tw-prose-invert-pre-bg: rgb(0 0 0 / 50%);
  --tw-prose-invert-th-borders: var(--color-norwegian-600);
  --tw-prose-invert-td-borders: var(--color-norwegian-700);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: var(--color-norwegian-100);
    --foreground: var(--color-fg-dark);
  }
}

/* Also support toggling dark mode via the `.dark` class on <html> */
html.dark {
  --background: var(--color-bg-dark);
  --foreground: var(--color-fg-dark);
}

/* Explicit light mode override so user choice wins over prefers-color-scheme */
html.light {
  --background: var(--color-norwegian-100);
  --foreground: var(--foreground);
}

/* Header and nav â€” accent Norwegian styling */
.site-header {
  background-color: var(--color-norwegian-50);
  border-bottom: 1px solid var(--color-norwegian-300);
}

.site-nav a {
  color: var(--color-norwegian-700);
}

.site-nav a:hover {
  color: var(--color-fjord-600);
}

/* Preserve dark mode behavior */
.dark .site-header {
  /* subtle translucent overlay for separation on dark backgrounds */
  background: rgba(255, 255, 255, 0.03);
  border-bottom: 1px solid var(--color-norwegian-300-dark);
  /* tint header text slightly to our Norwegian light tone */
  color: var(--color-norwegian-100);
}

.dark .site-header a {
  color: inherit;
}

.dark .site-nav a {
  color: var(--color-norwegian-100);
}

/* Footer color follows the current foreground variable (works in dark mode) */
.site-footer {
  color: var(--foreground);
}

/* Button styles (accent solid in dark mode) */
.btn {
  text-decoration: none;
  transition: transform .12s ease, box-shadow .12s ease, background-color .12s ease, color .12s ease;
}

.btn:focus-visible {
  outline: 3px solid rgba(16, 143, 139, 0.22);
  outline-offset: 3px;
}

/* Dark-mode accent: solid teal button */
.dark .btn {
  background: var(--color-norwegian-400-dark);
  color: var(--color-white);
  border: none !important;
  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.6);
  -webkit-font-smoothing: antialiased;
}

.dark .btn:hover {
  transform: translateY(-1px);
  box-shadow: 0 10px 24px rgba(0, 0, 0, 0.7);
}

/* Light-mode neutral button (keeps existing bordered look) */
.btn {
  background: transparent;
}

.btn:hover {
  filter: brightness(0.98);
}

/* Accent main page headings (h1) in dark mode to tie into the Norwegian palette */
html.dark main h1,
html.dark main .prose.prose-norwegian h1,
html.dark main .prose h1 {
  /* Ensure this overrides typography plugin defaults */
  color: var(--color-norwegian-300-dark) !important;
  transition: color .15s ease-in-out;
}

/* Accent basic paragraph text in dark mode with a neon Fjord tint */
html.dark main p,
html.dark main .prose.prose-norwegian p,
html.dark main .prose p,
html.dark p {
  color: var(--color-fjord-neon) !important;
  transition: color .15s ease-in-out;
}

/* Ensure the whole viewport, including the html element, uses the configured background */
html {
  background: var(--background);
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}