@import "tailwindcss";
@plugin "@tailwindcss/typography";

/* Allow toggling dark mode via the `.dark` class on the <html> element */
@custom-variant dark (&:where(.dark, .dark *));

/* Norwegian / Fjord color palette (sea greens + blues) */
:root {
  /* Default background / foreground (light mode) */
  --background: var(--color-norwegian-100);
  --foreground: var(--color-norwegian-700);
  --color-white: #ffffff;

  /* Norwegian sea/teal palette */
  --color-norwegian-50: #f2fbfb;
  --color-norwegian-100: #e6f7f7;
  --color-norwegian-200: #bfeff0;
  --color-norwegian-300: #99e7e7;
  --color-norwegian-400: #40d7d0;
  --color-norwegian-500: #00b9b3;
  --color-norwegian-600: #00908a;
  --color-norwegian-700: #00706d;
  --color-norwegian-800: #00554f;
  --color-norwegian-900: #003d3a;

  /* Dark-mode variants for the Norwegian palette (accents/overlays on dark bg) */
  --color-norwegian-50-dark: #062a29;
  /* deep muted teal */
  --color-norwegian-100-dark: #083634;
  --color-norwegian-200-dark: #084c4a;
  --color-norwegian-300-dark: #0b6b68;
  --color-norwegian-400-dark: #108f8b;
  --color-norwegian-500-dark: #19b3ac;

  /* Semantic dark background/foreground */
  --color-bg-dark: #0a0a0a;
  --color-fg-dark: #ededed;

  /* Fjord deep blues */
  --color-fjord-500: #1e88e5;
  --color-fjord-600: #176fc4;
  --color-fjord-700: #0f538f;
  /* neon accent for dark mode (subtler) */
  --color-fjord-neon: #e6fbf4;
  --tw-prose-body: var(--color-norwegian-700);
  --tw-prose-headings: var(--color-norwegian-900);
  --tw-prose-lead: var(--color-norwegian-600);
  --tw-prose-links: var(--color-fjord-600);
  --tw-prose-bold: var(--color-norwegian-900);
  --tw-prose-counters: var(--color-norwegian-600);
  --tw-prose-bullets: var(--color-norwegian-400);
  --tw-prose-hr: var(--color-norwegian-300);
  --tw-prose-quotes: var(--color-norwegian-900);
  --tw-prose-quote-borders: var(--color-norwegian-300);
  --tw-prose-captions: var(--color-norwegian-700);
  --tw-prose-code: var(--color-fjord-600);
  --tw-prose-pre-code: var(--color-norwegian-100);
  --tw-prose-pre-bg: var(--color-norwegian-900);
  --tw-prose-th-borders: var(--color-norwegian-300);
  --tw-prose-td-borders: var(--color-norwegian-200);

  /* invert / dark mode */
  --tw-prose-invert-body: var(--color-norwegian-100);
  --tw-prose-invert-headings: var(--color-white);
  --tw-prose-invert-lead: var(--color-norwegian-300);
  --tw-prose-invert-links: var(--color-white);
  --tw-prose-invert-bold: var(--color-white);
  --tw-prose-invert-counters: var(--color-norwegian-400);
  --tw-prose-invert-bullets: var(--color-norwegian-600);
  --tw-prose-invert-hr: var(--color-norwegian-700);
  --tw-prose-invert-quotes: var(--color-norwegian-100);
  --tw-prose-invert-quote-borders: var(--color-norwegian-700);
  --tw-prose-invert-captions: var(--color-norwegian-400);
  --tw-prose-invert-code: var(--color-white);
  --tw-prose-invert-pre-code: var(--color-norwegian-300);
  --tw-prose-invert-pre-bg: rgb(0 0 0 / 50%);
  --tw-prose-invert-th-borders: var(--color-norwegian-600);
  --tw-prose-invert-td-borders: var(--color-norwegian-700);
}

/* Typography tokens (fonts + type scale) — tokens are defined in `src/styles/tokens.css` */
@import "../styles/tokens.css";

:root {
  /* Map next/font variables into semantic tokens used by the site */
  --font-body: var(--font-inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial);
  --font-display: var(--font-orbitron, "Orbitron", system-ui);
  --fs-hero: 2.25rem;
  --fs-h1: 1.75rem;
  --fs-h2: 1.25rem;
  --fs-h3: 1.125rem;
  --fs-body: 1rem;
  --fs-small: 0.875rem;
  --leading-tight: 1.15;
  --leading-normal: 1.5;
}

/* Apply the tokens */
body {
  font-family: var(--font-body);
  font-size: var(--fs-body);
  line-height: var(--leading-normal);
  color: var(--foreground);
  background: var(--background);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Ensure images don't cause horizontal overflow on small screens */
img {
  max-width: 100%;
  height: auto;
  display: block;
}

h1,
h2,
h3,
h4,
h5,
h6 {
  font-family: var(--font-display);
  margin-top: 0;
  margin-bottom: 0.5rem;
  color: var(--tw-prose-headings);
}

h1 {
  font-size: var(--fs-hero);
  line-height: var(--leading-tight);
  /* Center H1 headings site-wide */
  text-align: center;
}

h2 {
  font-size: var(--fs-h1);
  /* Ensure H2 headings always render in ALL CAPS for consistency */
  text-transform: uppercase;
  /* Temporarily center H2s for experimentation — can be removed later */
  text-align: center;
}

h3 {
  font-size: var(--fs-h2);
}

h4 {
  font-size: var(--fs-h3);
}

small,
.text-sm {
  font-size: var(--fs-small);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: var(--color-norwegian-100);
    --foreground: var(--color-fg-dark);
  }
}

/* Also support toggling dark mode via the `.dark` class on <html> */
html.dark {
  --background: var(--color-bg-dark);
  --foreground: var(--color-fg-dark);
}

/* Explicit light mode override so user choice wins over prefers-color-scheme */
html.light {
  --background: var(--color-norwegian-100);
  --foreground: var(--foreground);
}

/* Header and nav — accent Norwegian styling */
.site-header {
  --header-height: 80px;
  /* mobile default (logo 48 + py-4*2 = 48 + 32) */
  background-color: var(--color-norwegian-50);
  border-bottom: 1px solid var(--color-norwegian-300);
  transition: background-color .15s ease, border-color .15s ease, color .12s ease;
}

/* Adjust header height variable for larger screens (logo 64 + py-4*2 = 64 + 32) */
@media (min-width: 768px) {
  .site-header {
    --header-height: 96px;
  }
}

/* Allow anchored scrolling to avoid content being hidden under sticky header */
html {
  scroll-padding-top: var(--header-height);
}

/* Brand link: do not underline on hover/focus (logo + initials) */
.site-header .inline-flex,
.site-header .inline-flex:hover,
.site-header .inline-flex:focus,
.site-header .inline-flex:focus-visible {
  text-decoration: none;
}

.site-header .inline-flex:focus-visible {
  /* keep accessibility focus visible but without underline */
  outline: 3px solid rgba(23, 111, 196, 0.12);
  outline-offset: 3px;
}

/* Brand text: use display font (Orbitron) for visual identity */
.site-brand {
  font-family: var(--font-display);
  /* keep letter-spacing visually consistent with existing typography */
  letter-spacing: 0.06em;
}

.site-nav {
  /* Treat nav as header objects: use the display font (Orbitron) to match headings */
  font-family: var(--font-display);
}

.site-nav a,
.site-nav a * {
  font-family: inherit;
  color: var(--color-norwegian-700) !important;
  /* muted teal for better distinction */
  position: relative;
  display: inline-block;
  vertical-align: middle;
  font-weight: 600;
  padding: 0.125rem 0.25rem;
  padding-bottom: 0.25rem;
  /* space for underline */
  text-decoration: none;
  text-transform: uppercase !important;
  letter-spacing: 0.06em;
  transition: color .12s ease, text-shadow .12s ease, transform .12s ease;
}

/* Animated underline */
.site-nav a::after {
  content: "";
  position: absolute;
  left: 0;
  bottom: -4px;
  height: 2px;
  width: 100%;
  transform-origin: left center;
  transform: scaleX(0);
  background: var(--color-fjord-600);
  transition: transform .18s ease;
}

.site-nav a:hover::after,
.site-nav a:focus-visible::after {
  transform: scaleX(1);
}

/* Global link style: no underline by default, show underline on hover/focus */
a {
  text-decoration: none;
  transition: color .12s ease, text-decoration-color .12s ease;
}

a:hover,
a:focus-visible {
  text-decoration: underline;
  text-decoration-thickness: 2px;
}

.site-nav a:hover {
  color: var(--color-fjord-600);
}

/* Prevent global underline on hover for site-nav links; keep the animated ::after underline */
.site-nav a:hover,
.site-nav a:focus-visible {
  text-decoration: none;
}

.site-nav a:focus-visible {
  outline: 3px solid rgba(23, 111, 196, 0.12);
  outline-offset: 3px;
}

/* Preserve dark mode behavior */
.dark .site-header {
  /* Use the dark background variable so the header obscures content correctly in dark mode */
  background-color: var(--background);
  /* Add a subtle translucent overlay + blur for depth while keeping content obscured */
  background-image: linear-gradient(rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0.02));
  backdrop-filter: saturate(120%) blur(6px);
  border-bottom: 1px solid var(--color-norwegian-300-dark);
  /* tint header text slightly to our Norwegian light tone */
  color: var(--color-norwegian-100);
}

.dark .site-header a {
  color: inherit;
}

/* Make the header logo readable in dark mode using a small invert filter (quick, reversible fix). */
@media (prefers-color-scheme: dark) {
  .site-logo {
    filter: invert(1) brightness(1.2) saturate(1.2);
    transition: filter .12s ease;
  }
}

/* Ensure explicit light mode or prefers-color-scheme: light uses original (unfiltered) asset */
@media (prefers-color-scheme: light) {
  .site-logo {
    filter: none;
    transition: filter .12s ease;
  }
}

/* Site-level toggle wins: when html has .light class, remove filter regardless of OS */
html.light .site-logo {
  filter: none !important;
  transition: filter .12s ease;
}

.dark .site-logo {
  filter: invert(1) brightness(1.2) saturate(1.2);
  transition: filter .12s ease;
}

.dark .site-nav a {
  color: var(--color-fjord-neon);
  font-weight: 700;
  text-shadow: 0 1px 0 rgba(0, 0, 0, 0.6);
  transition: color .12s ease, text-shadow .12s ease;
}

.dark .site-nav a:hover {
  color: var(--color-white);
  text-shadow: none;
}

/* Footer color follows the Norwegian muted teal (light) and a soft mint in dark mode */
.site-footer {
  /* Use body font (Inter) for footer text for better legibility */
  font-family: var(--font-body);
  color: var(--color-norwegian-700);
  transition: color .12s ease;
}

/* Ensure emphasized footer text (e.g., .font-semibold spans) use the body font explicitly */
.site-footer .font-semibold,
.site-footer strong {
  font-family: var(--font-body);
}

html.dark .site-footer {
  color: rgba(230, 247, 247, 0.85);
  /* soft mint tint on dark background */
}

/* Smooth transitions for typographic links and interactive text */
.prose a,
main a,
.site-nav a {
  transition: color .12s ease, background-color .12s ease, text-decoration-color .12s ease;
}

/* Button styles (accent solid in dark mode) */
.btn {
  /* Buttons use the display font to match header navigation and brand */
  font-family: var(--font-display);
  text-decoration: none;
  transition: transform .12s ease, box-shadow .12s ease, background-color .12s ease, color .12s ease;
}

.btn:hover,
.btn:focus {
  text-decoration: none;
}

/* Use a box-shadow for focus so the ring follows the button's rounded corners */
.btn:focus-visible {
  outline: none;
  box-shadow: 0 0 0 3px rgba(16, 143, 139, 0.12);
}

/* Dark-mode accent: solid teal button */
.dark .btn {
  background: var(--color-norwegian-400-dark);
  color: var(--color-white);
  border: 1px solid var(--color-norwegian-300-dark);
  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.6);
  -webkit-font-smoothing: antialiased;
}

.dark .btn:hover {
  transform: translateY(-1px);
  box-shadow: 0 10px 24px rgba(0, 0, 0, 0.7);
  border-color: var(--color-norwegian-200-dark);
}

/* Light-mode neutral button (keeps existing bordered look) */
.btn {
  background: transparent;
  color: var(--color-norwegian-700);
  border: 1px solid var(--color-norwegian-300);
  transition: transform .12s ease, box-shadow .12s ease, background-color .12s ease, color .12s ease;
}

.btn:hover {
  transform: translateY(-1px);
  background: rgba(0, 0, 0, 0.03);
  box-shadow: 0 6px 18px rgba(16, 143, 139, 0.04);
}

/* Neon outline variant for a poppy, minimal CTA */
.btn--neon {
  background: transparent;
  /* use the Fjord blue for light mode so the CTA shows up on pale backgrounds */
  color: var(--color-fjord-600);
  border: 1px solid var(--color-fjord-600);
  text-shadow: none;
}

.dark .btn--neon {
  color: var(--color-fjord-neon);
  border-color: var(--color-fjord-neon);
  /* subtle neon fill to separate from page background */
  background: rgba(230, 251, 244, 0.06);
  /* soft mint fill */
  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.4);
}

.dark .btn--neon:hover {
  background: rgba(230, 251, 244, 0.12);
  color: var(--color-white);
  border-color: var(--color-fjord-neon);
  box-shadow: 0 10px 24px rgba(0, 0, 0, 0.6);
}

.btn--neon:focus-visible {
  outline: 3px solid rgba(23, 111, 196, 0.12);
  outline-offset: 3px;
}

/* Button tokens used for primary/outline variants */
:root {
  --btn-accent: var(--color-norwegian-400);
  --btn-accent-strong: var(--color-norwegian-500);
  --btn-accent-dark: var(--color-norwegian-400-dark);
  --btn-radius: 0.5rem;
}



/* Primary (filled) button for light mode */
.btn--primary {
  display: inline-block;
  padding: 0.5rem 0.875rem;
  border-radius: 0.375rem;
  font-weight: 600;
  color: var(--color-white);
  background: linear-gradient(180deg, var(--btn-accent), var(--btn-accent-strong));
  border: 1px solid var(--btn-accent);
  box-shadow: 0 6px 18px rgba(16, 143, 139, 0.08);
}

.btn--primary:hover {
  transform: translateY(-1px);
  /* Use a stronger accent on hover and ensure the text stays white for readability */
  background: linear-gradient(180deg, var(--btn-accent-strong), var(--btn-accent));
  color: var(--color-white);
  border-color: var(--btn-accent-strong);
  box-shadow: 0 10px 24px rgba(16, 143, 139, 0.12);
}

.btn--primary:active {
  transform: translateY(0);
  background: var(--btn-accent-strong);
  color: var(--color-white);
  filter: none;
}

/* Dark-mode tweak for primary (kept simple globally) */
html.dark .btn--primary {
  background: var(--btn-accent-dark);
  color: var(--color-white);
  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.6);
}

html.dark .btn--primary:hover {
  box-shadow: 0 10px 24px rgba(0, 0, 0, 0.7);
}

/* Dark-mode hover tweak: subtle brighten while maintaining white text */
.dark .btn--primary:hover {
  color: var(--color-white);
  border-color: var(--color-norwegian-200-dark);
  box-shadow: 0 10px 24px rgba(0, 0, 0, 0.7);
  filter: brightness(1.03);
}

/* Outline / secondary CTA */
.btn--outline {
  background: transparent;
  color: var(--btn-accent);
  border: 1px solid var(--btn-accent);
}

.btn--outline:hover {
  background: rgba(64, 215, 208, 0.06);
}

/* Focus and accessibility (uniform for variants) */
.btn--primary:focus-visible,
.btn--outline:focus-visible {
  outline: none;
  box-shadow: 0 0 0 3px rgba(16, 143, 139, 0.12);
}

/* Page-scoped override: slightly larger/taller buttons for Projects list (Tonal default) */
.projects-list .btn--primary {
  padding: 0.625rem 0.875rem;
  /* increase vertical padding a bit */
  font-size: 0.8125rem;
  /* 13px for slightly larger text */
  /* use dual-background technique so the gradient border follows the button's rounded corners */
  border: 2px solid transparent;
  /* increased thickness for more visible gradient */
  border-radius: 0.5rem;
  /* Tonal default: slightly stronger tinted fill for better readabilty */
  background-image: linear-gradient(180deg, rgba(16, 143, 139, 0.08), rgba(16, 143, 139, 0.06)), linear-gradient(90deg, var(--color-norwegian-400), var(--color-fjord-600));
  background-origin: padding-box, border-box;
  background-clip: padding-box, border-box;
  /* slightly lighter text for calmer default readability */
  color: var(--color-norwegian-700);
  /* slightly lighter weight keeps legibility but reduces visual weight */
  font-weight: 600;
  position: relative;
  overflow: hidden;
  /* ensure the inner highlight stays within rounded area */
  transition: background-image .18s ease, color .12s ease, box-shadow .15s ease, transform .15s ease;
}

/* Dark-mode default for Projects buttons: neutral dark fill with subtle mint border so it differs from top nav */
.projects-list html.dark .btn--primary,
.projects-list .dark .btn--primary,
.projects-list html.dark .btn--primary.btn--glass,
.projects-list .dark .btn--primary.btn--glass {
  /* force a solid darker background so the fill separates from the header */
  background: rgba(6, 12, 12, 0.62) !important;
  background-image: none !important;
  border-color: rgba(16, 143, 139, 0.10) !important;
  color: var(--color-white) !important;
  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.6) !important;
}

.projects-list html.dark .btn--primary:hover,
.projects-list .dark .btn--primary:hover,
.projects-list html.dark .btn--primary.btn--glass:hover,
.projects-list .dark .btn--primary.btn--glass:hover {
  /* keep the attractive hover gradient in dark mode */
  background-image: linear-gradient(180deg, var(--btn-accent-strong), var(--btn-accent)) !important;
  color: var(--color-white) !important;
  box-shadow: 0 10px 24px rgba(0, 0, 0, 0.7) !important;
}

/* Optional glass variant for Projects buttons */
.projects-list .btn--primary.btn--glass {
  /* soft translucent fill with backdrop blur for subtle depth */
  background-color: rgba(255, 255, 255, 0.06);
  -webkit-backdrop-filter: blur(6px);
  backdrop-filter: blur(6px);
  border-color: rgba(255, 255, 255, 0.06);
  color: var(--color-norwegian-700);
}

.projects-list .btn--primary.btn--glass::before {
  /* slightly stronger sheen for glass, but subdued */
  background: linear-gradient(to bottom, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.0));
  opacity: 0.28;
}

/* Dark-mode glass variant */
.projects-list .dark .btn--primary.btn--glass,
.projects-list html.dark .btn--primary.btn--glass {
  background-color: rgba(0, 0, 0, 0.28);
  border-color: rgba(255, 255, 255, 0.06);
  color: var(--color-white);
}

.projects-list .dark .btn--primary.btn--glass::before,
.projects-list html.dark .btn--primary.btn--glass::before {
  background: linear-gradient(to bottom, rgba(255, 255, 255, 0.04), rgba(255, 255, 255, 0));
  opacity: 0.18;
}

/* stronger internal highlight that sits inside the gradient border — tuned down for subtlety */
.projects-list .btn--primary::before {
  content: "";
  position: absolute;
  left: 2px;
  right: 2px;
  top: 2px;
  height: 52%;
  /* top highlight only */
  border-radius: calc(0.5rem - 2px) calc(0.5rem - 2px) 0 0;
  pointer-events: none;
  background: linear-gradient(to bottom, rgba(255, 255, 255, 0.04), rgba(255, 255, 255, 0.0));
  /* further reduced base opacity for a calmer sheen */
  opacity: 0.24;
  transform: translateY(0);
  transition: opacity .12s ease, transform .12s ease;
  z-index: 2;
}

.projects-list .btn--primary::after {
  content: "";
  position: absolute;
  left: 2px;
  right: 2px;
  top: 2px;
  bottom: 2px;
  /* full inner area overlay used to animate the gradient smoothly */
  border-radius: calc(0.5rem - 2px);
  pointer-events: none;
  background-image: linear-gradient(180deg, var(--btn-accent-strong), var(--btn-accent));
  /* keep overlay subtle by default */
  opacity: 0;
  transform: translateY(0);
  transition: opacity .16s ease, transform .16s ease;
  z-index: 1;
}

.projects-list .btn--primary:hover::before {
  /* subtle highlight on hover */
  opacity: 0.40;
  transform: translateY(-1px);
}

.projects-list .btn--primary:hover::after {
  /* gentler overlay on hover for a smoother color shift */
  opacity: 0.18;
  transform: translateY(-1px);
}

.projects-list .btn--primary:hover {
  transform: translateY(-1px);
  /* softer colored shadow to reduce visual noise */
  box-shadow: 0 8px 22px rgba(64, 215, 208, 0.10);
  /* stronger gradient on hover + white text for clear contrast */
  background-image: linear-gradient(180deg, var(--btn-accent-strong), var(--btn-accent)), linear-gradient(90deg, var(--color-norwegian-400), var(--color-fjord-600));
  color: var(--color-white);
}

/* Ensure button content sits above decorative overlays */
.projects-list .btn--primary * {
  position: relative;
  z-index: 3;
}

/* Target the visible label and icon so defaults we set are applied even if child elements receive styles */
.projects-list .btn--primary .truncate {
  color: var(--color-norwegian-200) !important;
}

.projects-list .btn--primary svg {
  fill: currentColor !important;
  color: inherit !important;
}

/* Prevent underline for project row links on hover/focus so descriptions and labels don't get underlined */
.projects-list a:hover,
.projects-list a:focus {
  text-decoration: none;
}

/* Project row focus — softer, rounded Fjord ring and subtle inset highlight */
.projects-list a:focus-visible {
  /* Prefer a rounded, subtle box-shadow ring instead of a hard outline */
  outline: none;
  border-radius: 0.5rem;
  box-shadow: 0 0 0 2px rgba(23, 111, 196, 0.09), 0 6px 18px rgba(64, 215, 208, 0.04);
  transition: box-shadow .12s ease;
  /* ensure Tailwind ring variables (if present) point to Fjord */
  --tw-ring-color: var(--color-fjord-600) !important;
  position: relative;
  z-index: 3;
}

.projects-list a:focus-visible .btn--primary {
  /* gentle inset ring to ensure visibility when the anchor area is clipped */
  box-shadow: 0 0 0 2px rgba(16, 143, 139, 0.08);
  border-radius: 0.5rem;
  transition: box-shadow .12s ease;
  position: relative;
  z-index: 4;
}

/* Dark-mode variant for project-list buttons (uses darker accent + neon tint) */
.projects-list .dark .btn--primary,
.projects-list html.dark .btn--primary {
  background-image: linear-gradient(180deg, var(--btn-accent-dark), var(--btn-accent-dark)), linear-gradient(90deg, var(--color-norwegian-300-dark), var(--color-fjord-neon));
}

.projects-list .dark .btn--primary:hover,
.projects-list html.dark .btn--primary:hover {}

/* Repo card: migrated to Tailwind utility classes in `src/components/RepoCard.tsx` for clearer intent and dark-mode parity.
   Motion remains "motion-safe" by using Tailwind's motion utilities and the global `prefers-reduced-motion` defaults.

   If you prefer a global CSS fallback for reduced-motion, add a small `@media (prefers-reduced-motion: reduce)` block here.
*/

@media (prefers-reduced-motion: reduce) {

  /* Provide a conservative global fallback that disables non-essential transitions/animations */
  * {
    transition-duration: 0ms !important;
    animation-duration: 0ms !important;
    animation-delay: 0ms !important;
    transform: none !important;
  }
}

/* Preserve dark-mode variants */
.dark .btn--primary {
  background: var(--btn-accent-dark);
  color: var(--color-white);
  border-color: var(--color-norwegian-300-dark);
  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.6);
}

/* Accent main page headings (h1) — light and dark modes */
main h1,
main .prose.prose-norwegian h1,
main .prose h1 {
  /* Make H1s pop on the soft Norwegian light background */
  color: var(--color-norwegian-700);
  font-weight: 600;
  transition: color .15s ease-in-out, transform .12s ease;
}

/* Subheadings (h2) — slightly less prominent than h1 */
main h2,
main .prose.prose-norwegian h2,
main .prose h2 {
  color: var(--color-norwegian-600);
  font-weight: 500;
  font-size: 1.375rem;
  margin-top: 1.25rem;
  margin-bottom: 0.6rem;
  transition: color .12s ease, transform .12s ease;
}

/* Dark mode overrides for headings */
html.dark main h1,
html.dark main .prose.prose-norwegian h1,
html.dark main .prose h1 {
  /* Ensure this overrides typography plugin defaults */
  color: var(--color-norwegian-300-dark) !important;
  transition: color .15s ease-in-out;
}

html.dark main h2,
html.dark main .prose.prose-norwegian h2,
html.dark main .prose h2 {
  color: var(--color-norwegian-200-dark);
  font-weight: 500;
  transition: color .12s ease;
}

/* Lists — markers and spacing tuned for both modes */
main ul,
main .prose ul,
.prose ul {
  margin-left: 1.25rem;
  margin-bottom: 1rem;
  line-height: 1.8;
}

/* Ensure list items use the same readable paragraph color (light mode) */
main li,
main .prose li,
.prose li {
  color: var(--color-norwegian-700);
  transition: color .12s ease;
}

/* Ensure paragraphs inside list items inherit properly */
main li p,
main .prose li p,
.prose li p {
  color: inherit;
}

/* Marker color (modern browsers support ::marker) */
main li::marker,
main .prose li::marker,
.prose li::marker {
  color: var(--color-norwegian-400);
}

/* Dark-mode list color + marker tweak */
html.dark main li,
html.dark main .prose li,
html.dark .prose li {
  color: var(--color-fjord-neon) !important;
}

html.dark main li::marker,
html.dark main .prose li::marker,
html.dark .prose li::marker {
  color: var(--color-norwegian-400-dark);
}

/* Paragraph styles — light-mode judgement (muted but readable) */
main p,
main .prose.prose-norwegian p,
main .prose p,
p {
  color: var(--color-norwegian-700);
  transition: color .15s ease-in-out;
  line-height: 1.75;
}

/* Lead / intro paragraph (judgemented for emphasis) */
main p.lead,
main .prose p.lead,
.prose .lead {
  color: var(--color-norwegian-600);
  font-weight: 500;
  font-size: 1.125rem;
}

/* Accent basic paragraph text in dark mode with a neon Fjord tint */
html.dark main p,
html.dark main .prose.prose-norwegian p,
html.dark main .prose p,
html.dark p {
  color: var(--color-fjord-neon) !important;
  transition: color .15s ease-in-out;
}

/* Ensure the whole viewport, including the html element, uses the configured background */
html {
  background: var(--background);
}

body {
  background: var(--background);
  color: var(--foreground);
  /* Ensure body-level tokens resolve to the next/font-injected variables so var() looks up correctly */
  --font-body: var(--font-inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial);
  --font-display: var(--font-orbitron, "Orbitron", system-ui, -apple-system);
  /* Use the typography token so next/font/our tokens control the font-family */
  font-family: var(--font-body);
}